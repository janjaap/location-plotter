@charset "utf-8";

@layer reset, page, overrides;

@layer reset {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  :where(html) {
    color-scheme: dark light;
    -moz-osx-font-smoothing: grayscale;
    -webkit-font-smoothing: antialiased;
    font-synthesis: none;
    hanging-punctuation: first allow-end last;

    /* scrollbar-gutter: stable; */
    interpolate-size: allow-keywords;
    line-height: 1.5;
    tab-size: 2;
    text-rendering: optimizelegibility;
    text-size-adjust: none;
  }

  :where(html:has(dialog:modal[open])) {
    overflow: clip;
  }

  ul,
  ol,
  dl {
    list-style-position: inside;

    ul,
    ol,
    dl {
      padding-inline-start: 1lh;
    }
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    text-wrap: balance;
  }

  p {
    text-wrap: pretty;
  }

  /* For images to not be able to exceed their container */
  img {
    max-block-size: 100%;
    max-inline-size: 100%;
  }

  /* fix the feature of 'hidden' attribute.display:revert; revert to element instead of attribute */
  :where([hidden]) {
    display: none;
  }

  :where(body) {
    font-family: system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    line-height: inherit;
  }

  :where(button) {
    all: unset;
  }

  /* apply back the draggable feature - exist only in Chromium and Safari */
  :where([draggable="true"]) {
    -webkit-user-drag: element;
  }

  /* Revert Modal native behavior */
  :where(dialog:modal) {
    all: revert;
  }

  @media (prefers-reduced-motion: no-preference) {
    html {
      interpolate-size: allow-keywords;
    }

    :where(html:focus-within) {
      scroll-behavior: smooth;
    }
  }
}
